<h2><b>Formulaire de gestion de forfaits :</b></h2>

<div class="flex-container">

  <form class="example-form" #forfaitFormAjout="ngForm">
      <h3><b>Nom du forfait :</b></h3>
      <mat-form-field class="example-full-width">
        <mat-label>Nom du forfait :</mat-label>
        <input matInput placeholder="Ex. Nom du forfait 1"  minlength="5" maxlength="50" name="nom" required
         [(ngModel)]="newForfait.nom" #nom="ngModel" (keyup.enter)="addForfait(forfaitFormAjout)">
      </mat-form-field>
    
      <mat-form-field class="example-full-width">
        <mat-label>Description :</mat-label>
        <textarea matInput placeholder="Ex. Description du forfait 1" minlength="5" maxlength="100" name="description" required
          [(ngModel)]="newForfait.description" #description="ngModel" (keyup.enter)="addForfait(forfaitFormAjout)">
        </textarea>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Code :</mat-label>
        <input matInput placeholder="Ex. ABC001" minlength="6" maxlength="6" name="code" required
         [(ngModel)]="newForfait.code" #code="ngModel" (keyup.enter)="addForfait(forfaitFormAjout)">
      </mat-form-field>

      
      <!-- <button mat-fab color="primary" aria-label="Ajouter" [disabled]="!forfaitFormAjout.form.valid"
        (click)="addForfait(forfaitFormAjout)">
        <mat-icon>add</mat-icon>
      </button> -->
  <!-- </form>  -->

  <!-- <form class="example-form" #forfaitFormAjout="ngForm"> -->
      <h3><b>√âtablissement :</b></h3>
      <mat-form-field class="example-full-width">
        <mat-label>Nom de l'√©tablissement :</mat-label>
        <input matInput placeholder="Nom de l'√©tablissement" name="nom_etablissement"> 
      </mat-form-field>

      <mat-form-field class="example-full-width">
          <mat-label>Description :</mat-label>
          <textarea matInput placeholder="Description" name="description_etablissement">
          </textarea>
      </mat-form-field>  
  <!-- </form>  -->

  <!-- <form class="example-form" #forfaitFormAjout="ngForm"> -->
    <h3><b>Coordonn√©es :</b></h3>
    <mat-form-field class="example-full-width">
      <mat-label>Adresse :</mat-label>
      <input matInput placeholder="Adresse" name="adresse"> 
    </mat-form-field>
    
    <mat-form-field class="example-full-width">
      <mat-label>Ville :</mat-label>
      <input matInput placeholder="Ville" name="ville">
    </mat-form-field>
    
    <mat-form-field class="example-full-width">
      <mat-label>T√©l√©phone :</mat-label>
      <input matInput placeholder="T√©l√©phone" type="tel" name="telephone">
    </mat-form-field>
    
    <mat-form-field class="example-full-width">
      <mat-label>Courriel :</mat-label>
      <input matInput placeholder="Courriel" type="email" name="courriel" pattern="/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/">
    </mat-form-field>
    
    <mat-form-field class="example-full-width">
      <mat-label>Site Web :</mat-label>
      <input matInput placeholder="Site Web" name="site_web">
    </mat-form-field>
  <!-- </form> -->

  <!-- <form class="example-form" #forfaitFormAjout="ngForm"> -->
    <h3><b>Date :</b></h3>
    <mat-form-field appearance="fill">
      <mat-label>Date de d√©but : / </mat-label>
      <mat-label>Date de fin :</mat-label>
      <mat-date-range-input [rangePicker]="picker">
        <input matStartDate placeholder="Date de d√©but" name="date_debut"
         [(ngModel)]="newForfait.date_debut" #date_debut="ngModel" (keyup.enter)="addForfait(forfaitFormAjout)">
        <input matEndDate placeholder="Date de fin" name="date_fin"
         [(ngModel)]="newForfait.date_fin" #date_fin="ngModel" (keyup.enter)="addForfait(forfaitFormAjout)">
      </mat-date-range-input>
      <mat-hint>MM/DD/YYYY ‚Äì MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-date-range-picker #picker></mat-date-range-picker>
    </mat-form-field>
 
  <section class="example-section">
    <mat-checkbox class="example-margin" name="premium">Premium</mat-checkbox>
  </section>
<!-- </form> -->

  <!-- <form action="" #forfaitFormAjout="ngForm"> -->
    <h3><b>Prix :</b></h3>
    <mat-form-field class="example-full-width">
      <mat-label>Prix</mat-label>
      <input matInput placeholder="00" type="number" min="0" value="00.00" step=".01"  name="prix" required  
       [(ngModel)]="newForfait.prix" #prix="ngModel" (keyup.enter)="addForfait(forfaitFormAjout)">
    </mat-form-field><br>
    <mat-form-field class="example-full-width">
      <mat-label>Nouveau prix</mat-label>
      <input matInput placeholder="00" type="number" min="0" value="00.00" step=".01" name="nouveau_prix" 
       [(ngModel)]="newForfait.nouveau_prix" #nouveau_prix="ngModel" (keyup.enter)="addForfait(forfaitFormAjout)">  
    </mat-form-field>
  <!-- </form> -->

  <app-formulaire-avis></app-formulaire-avis>

  <!-- <form action="" #forfaitFormAjout="ngForm"> -->
    <button mat-fab color="primary" aria-label="Ajouter" [disabled]="!forfaitFormAjout.form.valid"
    (click)="addForfait(forfaitFormAjout)">
      <mat-icon>add</mat-icon>
    </button>
  </form>

  <!-- <app-snackbar></app-snackbar> -->

    
  <!-- <mat-form-field appearance="fill">
    <mat-label>Snack bar duration (seconds)</mat-label>
    <input type="number" [(ngModel)]="durationInSeconds" matInput>
  </mat-form-field>
  
  <button mat-stroked-button (click)="openSnackBar()" aria-label="Show an example snack-bar">
    Pizza party
  </button>

  <span class="example-pizza-party">
    Pizza party!!! üçï
  </span> -->

</div>

<table mat-table #tableForfaits [dataSource]="dataSourceForfaits" matSort>

  <ng-container matColumnDef="nom">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom de l'h√¥tel </th>
      <td mat-cell *matCellDef="let forfait"> {{forfait.etablissement.nom_etablissement}} </td>
  </ng-container>

  <ng-container matColumnDef="telephone">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> T√©l√©phone </th>
    <td mat-cell *matCellDef="let forfait"> {{forfait.etablissement.coordonnees.telephone}} </td>
  </ng-container>

  <ng-container matColumnDef="courriel">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Courriel </th>
    <td mat-cell *matCellDef="let forfait"> {{forfait.etablissement.coordonnees.courriel}} </td>
  </ng-container>

  <ng-container matColumnDef="code">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Code </th>
    <td mat-cell *matCellDef="let forfait"> {{forfait.code}} </td>
  </ng-container>

  <ng-container matColumnDef="date_debut">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Date d'arriv√©e </th>
      <td mat-cell *matCellDef="let forfait"> {{forfait.date_debut}} </td>
  </ng-container>

  <ng-container matColumnDef="date_fin">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Date de d√©part </th>
      <td mat-cell *matCellDef="let forfait"> {{forfait.date_fin}} </td>
  </ng-container>

  <ng-container matColumnDef="prix">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Prix </th>
      <td mat-cell *matCellDef="let forfait"> {{forfait.prix}} </td>
  </ng-container>

  <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
      <td mat-cell *matCellDef="let forfait">
          <button mat-icon-button aria-label="Supprimer" (click)="deleteForfait(forfait.id)">
              <mat-icon>delete</mat-icon>
          </button>
      </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></tr>

</table>

<mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="S√©lectionner la page des h√©ros"></mat-paginator>



    





